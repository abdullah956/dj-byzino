{% extends 'base.html' %}
{% load static %}
{% block title %}
  Home
{% endblock %}

{% block content %}
  <!-- Home -->

  <div class="home">
    <!-- Home Slider -->
    <div class="home_slider_container">
      <div class="owl-carousel owl-theme home_slider">
        <!-- Home Slider Item -->
        <div class="owl-item">
          <div class="home_slider_background" style="background-image:url({% static 'images/1.png' %})"></div>
          <div class="home_slider_content"></div>
        </div>
        <!-- Home Slider Item -->
        <div class="owl-item">
          <div class="home_slider_background" style="background-image:url({% static 'images/download.png' %})"></div>
        </div>
      </div>

      <!-- Home Slider Nav -->
      <div class="home_slider_next d-flex flex-column align-items-center justify-content-center">
        <img src="{% static 'images/arrow_r.png' %}" alt="" />
      </div>

      <!-- Home Slider Dots -->
      <div class="home_slider_dots_container">
        <div class="container">
          <div class="row">
            <div class="col">
              <div class="home_slider_dots">
                <ul id="home_slider_custom_dots" class="home_slider_custom_dots">
                  <li class="home_slider_custom_dot active">
                    01.<div></div>
                  </li>
                  <li class="home_slider_custom_dot">
                    02.<div></div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <style>
    .uniform_image_size {
  width: 100%; /* Adjust width as needed */
  height: 350px; /* Adjust height as needed */
  object-fit: cover; /* This will ensure images cover the area without distorting aspect ratios */
}

  </style>

  <!-- Promo -->
  
  <div class="promo">
    <div class="container">
      <div class="row">
        <div class="col">
          <div class="section_title_container text-center">
            <div class="section_subtitle">only the best</div>
            <div class="section_title">our categories</div>
          </div>
        </div>
      </div>
      <div class="row promo_container">
        {% for category in categories %}
          <!-- Promo Item -->
          <div class="col-lg-4 promo_col">
            <div class="promo_item">
              <div class="promo_image">
                {% if category.image %}
                  <img src="{{ category.image.url }}" alt="{{ category.name }}" class="uniform_image_size" />
                {% endif %}
                <div class="promo_content">
                  
                </div>
              </div>
              <div class="promo_link">
                <a href="{% url 'category_products' category.id %}">{{ category.name }}</a>
              </div>
            </div>
          </div>
        {% empty %}
          <p>No categories available.</p>
        {% endfor %}
      </div>
    </div>
  </div>
  

  <style>
    .uniform_product_image {
  width: 100%; /* Adjust width as needed */
  height: 350px; /* Adjust height as needed */
  object-fit: cover; 
}

  </style>

  <!-- New Arrivals -->
  <div class="arrivals">
    <div class="container">
      <div class="row">
        <div class="col">
          <div class="section_title_container text-center">
            <div class="section_subtitle">only the best</div>
            <div class="section_title">featured products</div>
          </div>
        </div>
      </div>
      <div class="row products_container">
        {% for product in featured_products %}
          <div class="col-lg-4 product_col">
            <div class="product">
              <div class="product_image">
                <img src="{{ product.image.url }}" alt="{{ product.name }}" class="uniform_product_image" />
              </div>
              <div class="rating">
                {% for i in "12345" %}
                  <i class="fa fa-star"
                    style="color: {% if i|add:'0' <= product.average_rating|default:0 %}
                      gold
                    {% else %}
                      gray
                    {% endif %};">
                  </i>
                {% endfor %}
              </div>
              <div class="product_content clearfix">
                <div class="product_info">
                  <div class="product_name">
                    <a href="{% url 'product_detail' product.id %}">{{ product.name }}</a>
                  </div>
                   <div class="product_price">
            {% if product.is_on_sale %}
                <span class="sale_price">${{ product.sale_price }}</span>
                <sub style="text-decoration: line-through; color: #b1b1b1;">${{ product.price }}</sub>
            {% else %}
                ${{ product.price }}
            {% endif %}
                   </div>
                </div>
                <div class="product_options">
                  <a href="{% url 'add_to_cart' product.id 1 %}" class="product_buy product_option"><img src="{% static 'images/shopping-bag-white.svg' %}" alt="Buy {{ product.name }}" /></a>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
  

  <!-- Extra -->
  <div class="extra clearfix">
    <div class="extra_promo extra_promo_1">
      <div class="extra_promo_image" style="background-image:url({% static 'images/extra-1.png' %})"></div>
      <div class="extra_1_content d-flex flex-column align-items-center justify-content-center text-center">
        <div class="extra_1_price">
          30%<span>off</span>
        </div>
        <div class="extra_1_title">On all products</div>
        <div class="extra_1_text">"With Byzino bring smiles on your faces"</div>
        <div class="button extra_1_button">
          <a href="{% url 'products' %}">go to shop</a>
        </div>
      </div>
    </div>
    <div class="extra_promo extra_promo_2">
      <div class="extra_promo_image" style="background-image:url({% static 'images/' %})"></div>
      <div class="extra_2_content d-flex flex-column align-items-center justify-content-center text-center">
        <div class="extra_2_title">
          <div class="extra_2_center">&</div>
          <div class="extra_2_top">Byzino</div>
          <div class="extra_2_bottom">Smile</div>
        </div>
        <div class="extra_2_text">Discover the joy of radiant skin with Byzino. Our range of creams, serums, and cleansers is crafted to enhance your natural beauty and boost your confidence. Embrace a skincare routine that not only cares for your skin but also brings a smile to your face. With Byzino, feel beautiful every day.</div>
        <div class="button extra_2_button">
          <a href="{% url 'products' %}">go to shop</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Gallery -->

  <div class="gallery">
    <div class="gallery_image" style="background-image:url({% static 'images/gallery.jpg' %})"></div>
    <div class="container">
      <div class="row">
        <div class="col">
          <div class="gallery_title text-center">
            <ul>
              <li>
                <a href="#">#byzino</a>
              </li>
              <li>
                <a href="#">#byzinoinstagram</a>
              </li>
              <li>
                <a href="#">#byzinobuildsmiles</a>
              </li>
            </ul>
          </div>
          <!--            Uncomment if needed
				<div class="gallery_text text-center">*Integer ut imperdiet erat. Quisque ultricies lectus tellus, eu tristique magna pharetra.</div>
				<div class="button gallery_button"><a href="#">submit</a></div>
				           -->
        </div>
      </div>
    </div>
    <div class="gallery_slider_container">
      <!-- Gallery Slider -->
      <div class="owl-carousel owl-theme gallery_slider">
        <!-- Gallery Item -->
        <div class="owl-item gallery_item">
          <a class="colorbox" href="{% static 'images/P1.jpeg' %}"><img src="{% static 'images/P1.jpeg' %}" alt="" /></a>
        </div>

        <!-- Gallery Item -->
        <div class="owl-item gallery_item">
          <a class="colorbox" href="{% static 'images/P8.jpg' %}"><img src="{% static 'images/P8.jpg' %}" alt="" /></a>
        </div>

        <!-- Gallery Item -->
        <div class="owl-item gallery_item">
          <a class="colorbox" href="{% static 'images/P3.jpg' %}"><img src="{% static 'images/P3.jpg' %}" alt="" /></a>
        </div>

        <!-- Gallery Item -->
        <div class="owl-item gallery_item">
          <a class="colorbox" href="{% static 'images/P4.jpg' %}"><img src="{% static 'images/P4.jpg' %}" alt="" /></a>
        </div>

        <!-- Gallery Item -->
        <div class="owl-item gallery_item">
          <a class="colorbox" href="{% static 'images/P5.jpg' %}"><img src="{% static 'images/P5.jpg' %}" alt="" /></a>
        </div>

        <!-- Gallery Item -->
        <div class="owl-item gallery_item">
          <a class="colorbox" href="{% static 'images/P6.jpg' %}"><img src="{% static 'images/P6.jpg' %}" alt="" /></a>
        </div>
      </div>
    </div>
  </div>

  <!-- Testimonials -->
<div class="testimonials">
  <div class="container">
    <div class="row">
      <div class="col">
        <div class="section_title_container text-center">
          <div class="section_subtitle">only the best</div>
          <div class="section_title">testimonials</div>
        </div>
      </div>
    </div>
    <div class="row test_slider_container">
      <div class="col">
        <!-- Testimonials Slider -->
        <div class="owl-carousel owl-theme test_slider text-center">
          {% for review in five_star_reviews %}
            <!-- Testimonial Item -->
            <div class="owl-item">
              <div class="test_text">“{{ review.review }}”</div>
              <div class="test_content">
                <div class="test_image">
                  {% if review.user.avatar %}
                        <img src="{{ review.user.avatar.url }}" alt="{{ review.user.name }}" />
                      {% else %}
                        <img src="{% static 'images/reviewdefault.png' %}" alt="Default Avatar" />
                      {% endif %}
                </div>
                <div class="test_name">{{ review.name}}</div>
                <div class="test_title">client</div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
